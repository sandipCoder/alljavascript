<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <h1>Promises</h1>
    </div>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
      /*In JavaScript, a promise is a good way to handle asynchronous operations. 
      It is used to find out if the asynchronous operation is successfully completed or not.
        A promise may have one of three states.
       1. Pending
       2. Fulfilled
       3. Rejected
        A promise starts in a pending state. That means the process is not complete. If the operation is successful, the process ends in a fulfilled state. And, if an error occurs, the process ends in a rejected state.

        JavaScript finally() method
        You can also use the finally() method with promises. The finally() method gets executed when the promise is either resolved successfully or rejected. For example,
        */

      let Boolean = false;

      let Promice = new Promise((resolve, reject) => {
        if (Boolean) {
          resolve("promise is fullfilled....");
        } else {
          reject("promise is rejected....");
        }
      });
      console.log(Promice);
      //Promice.then(res=>console.log(res)).catch(err=>console.log(err))
      Promice.then((res) => console.log(res))
        .catch((err) => {
          console.log(err);
        })
        .finally(() => console.log("finally executed"));

      //another way promise

      function promiseDatA(flag) {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            if (flag) {
              console.log(" flag is true");
              resolve("promise will be resolve");
            } else {
              reject("promise will be rejected");
              console.log("false");
            }
          }, 1000);
        });
      }

      promiseDatA(true)
        .then((mes) => console.log(mes))
        .catch((err) => console.log(err));

      //promise with rest api
      const fetchingDataApi = () => {
        fetch("https://jsonplaceholder.typicode.com/posts/")
          .then((res) => res.json())
          .then((result) => {
            console.log(result);
          })
          .catch((err) => {
            console.log(err);
          });
      };

      fetchingDataApi();

      ///async axios data

      const fetchData = async () => {
        const data = await axios.get(
          "https://jsonplaceholder.typicode.com/posts/"
        );
        console.log(data.data);
      };
      fetchData();

      ///async await wit fech

      async function fectchUsingasuync() {
        let data = await fetch("https://jsonplaceholder.typicode.com/posts/");
        let res = await data.json();
        console.log(res);
      }

      fectchUsingasuync();
    </script>
  </body>
</html>
